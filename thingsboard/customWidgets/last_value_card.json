{
  "fqn": "last_value_card",
  "name": "Last Value Card",
  "deprecated": false,
  "image": "tb-image:bGFzdFZhbHVlQ2FyZC13aWRnZXQucG5n:bGFzdFZhbHVlQ2FyZC13aWRnZXQucG5n;data:image/png;base64,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",
  "description": null,
  "descriptor": {
    "type": "latest",
    "sizeX": 3.5,
    "sizeY": 2,
    "resources": [],
    "templateHtml": "<div class=\"main-widget\">\r\n    <h1 class=\"title\">{{title}}</h1>\r\n    <h2 class=\"value\">{{value}} {{unit}}</h2>\r\n</div>",
    "templateCss": ".main-widget {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n}\n\n.title, .value {\n    padding: 0;\n    margin: 0;\n    font-family: 'Trebuchet MS', sans-serif;\n    line-height: 1;\n}\n\n.title {\n    font-size: 1.3rem;\n    font-weight: 800;\n}\n\n.value {\n    font-size: 1.5rem;\n    font-weight: 700;\n    color: #1a73e8;\n    margin-top: 10px;\n}",
    "controllerScript": "self.onInit = function() {\r\n    const ctxScope = self.ctx.$scope;\r\n    const settings = self.ctx.settings;\r\n\r\n    ctxScope.title = settings.title || \"Title\";\r\n    ctxScope.unit = settings.unit || \"Unit\";\r\n    ctxScope.data = self.ctx.defaultSubscription.data[0];\r\n};\r\n\r\nself.onDataUpdated = function() {\r\n    try {\r\n        const rawData = self.ctx.data[0].data[0][1];\r\n        self.ctx.$scope.value = JSON.parse(rawData);\r\n    } catch (error) {\r\n        console.error('Error parsing value', error);\r\n    } finally {\r\n        self.ctx.detectChanges();\r\n    }\r\n};\r\n",
    "settingsSchema": "{\r\n    \"schema\": {\r\n        \"type\": \"object\",\r\n        \"title\": \"Settings\",\r\n        \"properties\": {\r\n            \"title\": {\r\n                \"title\": \"Title\",\r\n                \"type\": \"string\",\r\n                \"default\": \"Title\"\r\n            },\r\n            \"unit\": {\r\n                \"title\": \"Unit\",\r\n                \"type\": \"string\",\r\n                \"default\": \"Unit\"\r\n            }\r\n        }\r\n    },\r\n    \"form\": [\r\n        \"title\",\r\n        \"unit\"\r\n    ]\r\n}\r\n",
    "dataKeySettingsSchema": "{}\n",
    "defaultConfig": "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}]}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":false,\"backgroundColor\":\"#fff\",\"color\":\"rgba(0, 0, 0, 0.87)\",\"padding\":\"8px\",\"settings\":{\"title\":\"Title\",\"unit\":\"Unit\"},\"title\":\"Last Value Card\",\"dropShadow\":false,\"enableFullscreen\":false,\"enableDataExport\":false,\"widgetStyle\":{},\"widgetCss\":\"\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\"}"
  },
  "tags": null
}